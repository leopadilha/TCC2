<app-header></app-header>
<main>
    <ng-container *ngIf="loading && !error">
        <div class="spinner-container">
            <mat-spinner></mat-spinner>
        </div>
    </ng-container>
    <app-request *ngIf="!showNewProject && !loading && !error" 
        [requests]="requests"
        [totalItems]="totalItems" 
        (newProjectRequested)="openNewProjectForm()"
        (filterChanged)="onFiltersChanged($event)"
        [currentPage]="currentPage"
        (pageChange)="onPageChanged($event)"
        (refreshRequests)="getProjects(currentPage)"
        (editProjectRequested)="openProjectForEdit($event)"
        >
    </app-request>
    <!-- <app-error-message 
    *ngIf="!loading && error" 
    [errorMessage]="'Não foi possível buscar os projetos'" 
    (onRetry)="getProjects()"
    >
    </app-error-message> -->
    <app-new-project *ngIf="showNewProject" (backButtonClicked)="handleBackButtonClick()" (projectCreated)="onProjectCreated()" [projectData]="selectedProjectData"></app-new-project>

</main>


